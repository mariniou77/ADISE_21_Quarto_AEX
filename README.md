# ADISE_21_Quarto_AEX

Table of Contents
=================
   * [Εγκατάσταση](#εγκατάσταση)
      * [Απαιτήσεις](#απαιτήσεις)
      * [Οδηγίες Εγκατάστασης](#οδηγίες-εγκατάστασης)
   * [Περιγραφή API](#περιγραφή-api)
      * [Methods](#methods)
         * [Board](#board)
            * [Ανάγνωση Board](#ανάγνωση-board)
            * [Αρχικοποίηση Board](#αρχικοποίηση-board)
         * [Piece](#piece)
            * [Ανάγνωση Θέσης/Πιονιού](#ανάγνωση-θέσηςπιονιού)
            * [Μεταβολή Θέσης Πιονιού](#μεταβολή-θέσης-πιονιού)
         * [Player](#player)
            * [Ανάγνωση στοιχείων παίκτη](#ανάγνωση-στοιχείων-παίκτη)
            * [Καθορισμός στοιχείων παίκτη](#καθορισμός-στοιχείων-παίκτη)
         * [Status](#status)
            * [Ανάγνωση κατάστασης παιχνιδιού](#ανάγνωση-κατάστασης-παιχνιδιού)
      * [Entities](#entities)
         * [Board](#board-1)
         * [Players](#players)
         * [Game_status](#game_status)


# Demo Page

Μπορείτε να κατεβάσετε τοπικά ή να επισκευτείτε την σελίδα: 
https://users.iee.ihu.gr/~it144276/ADISE_21_Quarto_AEX/Game/



# Εγκατάσταση

## Απαιτήσεις

* Apache2
* Mysql Server
* php

## Οδηγίες Εγκατάστασης

 * Κάντε clone το project σε κάποιον φάκελο <br/>
  `$ git clone https://github.com/iee-ihu-gr-course1941/ADISE21_Quarto_AEX.git`

 * Βεβαιωθείτε ότι ο φάκελος είναι προσβάσιμος από τον Apache Server. πιθανόν να χρειαστεί να καθορίσετε τις παρακάτω ρυθμίσεις.

 * Θα πρέπει να δημιουργήσετε στην Mysql την βάση με όνομα 'adise21Quarto' και να φορτώσετε σε αυτήν την βάση τα δεδομένα από το αρχείο usersDatabase.sql που βρίσκεται στον φάκελο databaseSchema


# Περιγραφή Παιχνιδιού

Το Quarto παίζεται ως εξής: Υπάρχει ένα ταμπλό 4×4 και 16 πιόνια. Κάθε πιόνι έχει τέσσερις ιδιότητες – χρώμα, ύψος, σχήμα και δομή – επομένως κάθε κομμάτι είναι είτε μαύρο είτε άσπρο, ψηλό ή κοντό, τετράγωνο ή στρογγυλό και κοίλο ή συμπαγές. Στόχος είναι να τοποθετήσετε το τέταρτο πιόνι στη σειρά όπου και τα τέσσερα πιόνια έχουν τουλάχιστον μία κοινή ιδιότητα. Η ανατροπή είναι ότι ο αντίπαλός σας επιλέγει το κομμάτι που θα τοποθετήσετε στο ταμπλό σε κάθε γύρο.

Gameplay :
 * Οι παίκτες ρίχνουν ζάρια για να δουν ποιος ξεκινά. Ο πρώτος παίκτης επιλέγει ένα από τα 16 πιόνια και το δίνει στον αντίπαλό του. Αυτός ο παίκτης τοποθετεί το πιόνι σε οποιοδήποτε τετράγωνο στο ταμπλό. Στη συνέχεια πρέπει να επιλέξει ένα από τα 15 πιόνια που απομένουν και να το δώσει στον αντίπαλό του. Με τη σειρά του, αυτός ο παίκτης τοποθετεί το πιόνι σε ένα άδειο τετράγωνο και ούτω καθεξής...

Νίκη παιχνιδιού :
 * Το παιχνίδι κερδίζεται από τον πρώτο παίκτη που θα πει "QUARTO!". Ένας παίκτης λέι "QUARTO!" και κερδίζει το παιχνίδι όταν, καθώς τοποθετεί το κομμάτι που του δόθηκε: Δημιουργεί μια σειρά από 4 ανοιχτόχρωμα κομμάτια ή 4 σκούρα κομμάτια ή 4 στρογγυλά κομμάτια ή 4 τετράγωνα κομμάτια ή 4 ψηλά κομμάτια ή 4 κοντά κομμάτια ή 4 συμπαγή κομμάτια ή 4 κούφια κομμάτια. Μπορούν να συσσωρευτούν διαφορετικά χαρακτηριστικά. Δεν χρειάζεται να έχει τοποθετήσει μόνος του τα άλλα 3 κομμάτια. Πρέπει να δηλώσει τη νίκη του λέγοντας "QUARTO!". Εάν αυτός ο παίκτης δεν έχει παρατηρήσει την ευθυγράμμιση και δώσει ένα κομμάτι στον αντίπαλο: Ο τελευταίος μπορεί "εκείνη τη στιγμή" να πει "QUARTO !" και να υποδείξτε τη ευθυγράμμιση : Κερδίζει το παιχνίδι. Εάν κανένας από τους παίκτες δεν δει την ευθυγράμμιση κατά τη διάρκεια της κίνησης κατά την οποία δημιουργείται, χάνει οποιαδήποτε αξία και το παιχνίδι συνεχίζεται.

Τέλος του Παιχνιδιού : 
 * Νικητής παιχνιδιού: Ένας παίκτης που λέει και επισημαίνει ένα "QUARTO!"

 * Ισοπαλία : Όλα τα κομμάτια έχουν τοποθετηθεί και δεν ανακοινώθηκε νικητής. 


Η εφαρμογή απαπτύχθηκε μέχρι το σημείο όπου ο πρώτος παίκτης δίνει την κίνηση του 

## Συντελεστές

Περιγράψτε τις αρμοδιότητες της ομάδας.

Αντώνης Μαρινίδης, Χρήστος Ζιούτης : HTML, CSS, Jquery

Αντώνης Μαρινίδης, Χρήστος Ζιούτης : PHP API

Αντώνης Μαρινίδης, Χρήστος Ζιούτης : Σχεδιασμός mysql


# Περιγραφή API

## Methods


### Board
#### Ανάγνωση Board

```
GET /board/
```

Επιστρέφει το [Board](#Board).

#### Αρχικοποίηση Board
```
POST /board/
```

Αρχικοποιεί το Board, δηλαδή το παιχνίδι. Γίνονται reset τα πάντα σε σχέση με το παιχνίδι.
Επιστρέφει το [Board](#Board).

### Piece
#### Ανάγνωση Θέσης/Πιονιού

```
GET /board/piece/:x/:y/
```

Κάνει την κίνηση του πιονιού από την θέση x,y στην νέα θέση. Προφανώς ελέγχεται η κίνηση αν είναι νόμιμη καθώς και αν είναι η σειρά του παίκτη να παίξει με βάση το token.
Επιστρέφει τα στοιχεία από το [Board](#Board-1) με συντεταγμένες x,y.
Περιλαμβάνει το χρώμα του πιονιού και τον τύπο.

#### Μεταβολή Θέσης Πιονιού

```

```

### Player

#### Ανάγνωση στοιχείων παίκτη
```
GET /players/:p
```

Επιστρέφει τα στοιχεία του παίκτη p ή όλων των παικτών αν παραληφθεί. Το p μπορεί να είναι 'B' ή 'W'.

#### Καθορισμός στοιχείων παίκτη
```
PUT /players/:p
```
Json Data:

| Field             | Description                 | Required   |
| ----------------- | --------------------------- | ---------- |
| `username`        | Το username για τον παίκτη  | yes        |
| `player_id`       | To id που επέλεξε ο παίκτης | yes        |


Επιστρέφει τα στοιχεία του παίκτη p και ένα token. Το token πρέπει να το χρησιμοποιεί ο παίκτης καθόλη τη διάρκεια του παιχνιδιού.

### Status

#### Ανάγνωση κατάστασης παιχνιδιού
```
GET /status/
```

Επιστρέφει το στοιχείο [Game_status](#Game_status).



## Entities


### Board
---------

Το board είναι ένας πίνακας, ο οποίος στο κάθε στοιχείο έχει τα παρακάτω:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `posX`                   | H συντεταγμένη x του τετραγώνου              | 1..4                                |
| `posY`                   | H συντεταγμένη y του τετραγώνου              | 1..4                                |
| `piece`                  | To Πιόνι που υπάρχει στο τετράγωνο           | Ένα από τα 16 'piece_id', null      |



### Players
---------

O κάθε παίκτης έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `username`               | Όνομα παίκτη                                 | String                              |
| `player_id`              | Ταυτότητα κάθε παίκτη                        | 'Player1','Player2'                 |
| `token  `                | To κρυφό token του παίκτη. Επιστρέφεται μόνο τη στιγμή της εισόδου του παίκτη στο παιχνίδι | HEX |


### Game_status
---------

H κατάσταση παιχνιδιού έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `status  `               | Κατάσταση             | 'not active', 'initialized', 'started', 'ended', 'aborded'     |
| `player_turn`            | To id του παίκτη που παίζει        | 'Player1','Player2',null                              |
| `result`                 |  To id του παίκτη που κέρδισε |'Player1','Player2',null                              |
| `last_change`            | Τελευταία αλλαγή/ενέργεια στην κατάσταση του παιχνιδιού         | timestamp |